<html>
  <head>
  <meta charset="utf-8">
  <meta lang="en">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>Doug Skinner</title>
  <link rel="shortcut icon" href="/img/favicon.ico" />

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link href="/static/css/custom.css" rel="stylesheet">
  <link href="/assets/main.css" rel="stylesheet">

  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  <script src="/static/js/custom.js"></script>

  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-97386400-1', 'auto');
      ga('send', 'pageview');
  </script>
</head>

  <body>
    <div id="wrapper">
      <div class="hero">
  <div class="overlay"></div>
  <div class="container">
    <div class="row">
      <div class="col-12 col-md-10 col-lg-8 col-xl-6 mx-auto">
        <h1 class="display-4 text-center">Doug Skinner</h1>
        <h1 class="display-5 text-center">Programmer, Photographer, Writer</h1>
      </div>
    </div>
  </div>
</div>

      <nav class="navbar fixed-top navbar-expand-md navbar-light bg-light">
  <a class="navbar-brand" href="/">DS</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto text-center">
      <li class="nav-item">
        <button id="mode_toggle" class="btn btn-light" data-mode="light">Light Mode</button>
      </li>
    </ul>
    <ul class="navbar-nav ml-auto text-center">
      <li class="nav-item">
        <a class="nav-link" href="/">Home</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/about.html">About</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/photos.html">Photos</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/projects.html">Projects</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/writings.html">Writings</a>
      </li>
    </ul>
  </div>
</nav>

      <div class="container">
        <div class="row mobile_padding content">
          <div class="col-12 mobile_padding">
            <div class="card shadow">
              <img class="card-img-top" style="max-height:15em;" src="/img/post_images/pearls.jpg" alt="placeholder" data-toggle="tooltip" data-placement="top" title="Photo by Tim Mossholder on Pexels">
              <div class="card-body">
                <h5 class="card-title text-center">Programming Pearls, Day Six<br><small class="text-info">Posted: April 15, 2018</small></h5>
                <div class="card-text col-10 mx-auto">
                  <p>Okay, continuing on to day six, the text of the problem is:</p>

<p><strong>What would you recommend to the programmer if, instead of saying that each
integer could appear at most once, he told you that each integer could appear at
most ten times? How would your solution change as a function of the amount of
available storage?</strong></p>

<p>So, working with numbers that can show up multiple times, the easiest solution
is a hash table. To store the working numbers in under a Mb, the algorithm will
turn into a 20 pass algo, working in increments of fifty thousand, and with each
element of the original working bit array being converted into a 10 bit array
itself.</p>

<p>My solution is below:</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">time</span>

<span class="k">def</span> <span class="nf">generate_empty_array</span><span class="p">():</span>
    <span class="n">working</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50000</span><span class="p">):</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">working</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">working</span>

<span class="k">def</span> <span class="nf">read_in_specific</span><span class="p">(</span><span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="p">,</span> <span class="n">working</span><span class="p">):</span>
    <span class="n">fp_in</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">'numbers.txt'</span><span class="p">,</span> <span class="s">'r'</span><span class="p">)</span>

    <span class="n">x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">fp_in</span><span class="o">.</span><span class="n">readline</span><span class="p">())</span>
    <span class="k">while</span> <span class="n">x</span> <span class="o">!=</span> <span class="s">''</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="n">start</span> <span class="ow">and</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">stop</span><span class="p">:</span>
            <span class="n">working</span><span class="p">[</span><span class="n">x</span> <span class="o">-</span> <span class="n">start</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">x_str</span> <span class="o">=</span> <span class="n">fp_in</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">x_str</span> <span class="o">==</span> <span class="s">''</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">x_str</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">x_str</span><span class="p">)</span>
    
    <span class="n">fp_in</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">working</span>

<span class="k">def</span> <span class="nf">write_out</span><span class="p">(</span><span class="n">offset</span><span class="p">,</span> <span class="n">working</span><span class="p">,</span> <span class="n">fp_out</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">working</span><span class="p">)):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">working</span><span class="p">[</span><span class="n">i</span><span class="p">])):</span>
            <span class="n">fp_out</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">offset</span> <span class="o">+</span> <span class="n">i</span><span class="p">)</span> <span class="o">+</span> <span class="s">'</span><span class="se">\n</span><span class="s">'</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">space_constrain_with_mult</span><span class="p">():</span>
    <span class="n">fp_out</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">'out_numbers.txt'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">)</span>
    <span class="n">pass_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50000</span><span class="p">,</span> <span class="mi">100000</span><span class="p">,</span> <span class="mi">150000</span><span class="p">,</span> <span class="mi">200000</span><span class="p">,</span> <span class="mi">250000</span><span class="p">,</span> <span class="mi">300000</span><span class="p">,</span> <span class="mi">350000</span><span class="p">,</span> <span class="mi">400000</span><span class="p">,</span> <span class="mi">450000</span><span class="p">,</span> <span class="mi">500000</span><span class="p">,</span> <span class="mi">550000</span><span class="p">,</span> <span class="mi">600000</span><span class="p">,</span> <span class="mi">650000</span><span class="p">,</span> <span class="mi">700000</span><span class="p">,</span> <span class="mi">750000</span><span class="p">,</span> <span class="mi">800000</span><span class="p">,</span> <span class="mi">850000</span><span class="p">,</span> <span class="mi">900000</span><span class="p">,</span> <span class="mi">950000</span><span class="p">,</span> <span class="mi">1000000</span><span class="p">]</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pass_list</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">working</span> <span class="o">=</span> <span class="n">generate_empty_array</span><span class="p">()</span>
        <span class="n">working</span> <span class="o">=</span> <span class="n">read_in_specific</span><span class="p">(</span><span class="n">pass_list</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">pass_list</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">working</span><span class="p">)</span>
        <span class="n">write_out</span><span class="p">(</span><span class="n">pass_list</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">working</span><span class="p">,</span> <span class="n">fp_out</span><span class="p">)</span>

    <span class="n">fp_out</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">'start: {}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">clock</span><span class="p">())</span>
    <span class="n">space_constrain_with_mult</span><span class="p">()</span>
    <span class="k">print</span> <span class="s">'end: {}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">clock</span><span class="p">())</span></code></pre></figure>


                </div>

              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="footer">
  <div class="container">
    <div class="row">
      <div class="col-10 col-md-8 col-lg-6 mx-auto text-center">
        <p>© Doug Skinner. All rights reserved</p>
      </div>
    </div>
  </div>
</div>

    </div>
  </body>
</html>
